<!DOCTYPE html>
<html lang="en-IE">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Freeze flows | smartesb-skeleton</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="Freeze flows" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Freeze flows" />
<meta property="og:description" content="Freeze flows" />
<link rel="canonical" href="http://localhost:4000/smartesb-skeleton/samples/freezeflows" />
<meta property="og:url" content="http://localhost:4000/smartesb-skeleton/samples/freezeflows" />
<meta property="og:site_name" content="smartesb-skeleton" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-11-20T15:45:38+00:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/smartesb-skeleton/samples/freezeflows"},"@type":"BlogPosting","url":"http://localhost:4000/smartesb-skeleton/samples/freezeflows","headline":"Freeze flows","dateModified":"2018-11-20T15:45:38+00:00","datePublished":"2018-11-20T15:45:38+00:00","description":"Freeze flows","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/smartesb-skeleton/assets/css/syntax.css?v=53946728a90dfcf4333bb63cf3599997e8c71930">
        <link rel="stylesheet" href="/smartesb-skeleton/assets/css/timeline.css">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

    </head>
    <body>
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="/smartesb-skeleton">SmartESB Skeleton</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/smartesb-skeleton">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"> </a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Introduction
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        
                            <a  class="dropdown-item" href="/smartesb-skeleton/introduction/installation">Installation and Setup Guide</a>
                        
                            <a  class="dropdown-item" href="/smartesb-skeleton/introduction/opensource">Introduction to the Smartbox Open Source Projects</a>
                        
                            <a  class="dropdown-item" href="/smartesb-skeleton/introduction/eip">Introduction to Enterprise Integration Patterns</a>
                        
                            <a  class="dropdown-item" href="/smartesb-skeleton/introduction/esb">Introduction to Enterprise Service Bus</a>
                        
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Samples
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/jsonproducer">Create a new JSON Producer</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/syncflow">Create a new sync flow</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/asyncflow">Create a new async flow</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/workers">Set up workers to consume messages</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/flowdiversion">Create a flow diversion</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/broadcastflow">Create a new broadcast flow</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/throttle">Throttle a flow</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/freezeflows">Freeze flows</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/samples/callbackflow">Callback flow</a>
                        
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Bundles
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/bundles/corebundle">CoreBundle</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/bundles/camelconfig">CamelConfig</a>
                        
                            <a class="dropdown-item" href="/smartesb-skeleton/bundles/frameworkbundle">FrameworkBundle</a>
                        
                    </div>
                </li>
                <a class="nav-item nav-link" href="/smartesb-skeleton/roadmap">Roadmap</a>

            </ul>
        </div>
    </nav>
    <!-- Page Content -->
    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-1">
                    <p> </p>
                </div>
                <div class="col-10">
                    <br><br><br>
                    <h1 id="freeze-flows">Freeze flows</h1>

<p>As part of the SmartESB we have the ability to freeze different versions of flows. 
This is very useful for for a number of reasons, the main one being it allows us to set in stone what flows we will release.
So if we froze the current flows in the Skeleton Bundle, they would be at version 0, and the “real” flows would be at version 1.
This means that for our production environments we can point to (in parameters.yml) version 0 of the flows because we know they have been tested, but on our development we can point to version 1 and take advantage of new flows that were added since the freeze point.
This can work quite well with most development life cycles.</p>

<p>So, now to the part on how to freeze the flows, this is done using a Symfony Command in the class FreezeFlowsCommand.php in the Camel Config Bundle. 
We run the following and it will take care of the rest.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php app/console smartesb:flows:freeze
</code></pre></div></div>

<p>Depending on your configuration and where you have set the location of “frozen_flows_directory” in config.yml, you can go to that directory and now you will see a new folder for your frozen flows.
The version of the new frozen flows will be the current version plus one.</p>

<p>To change between version you can modify “flows.version: “ in parameters.yml to point to the version of the flows you want. 
If you set the number to a flow version that does not exist it will default to the “real” flows.</p>

                </div>
                <div class="col-1">
                    <p> </p>
                </div>
            </div>
        </div>
    </div>
    </body>
</html>
